<!DOCTYPE HTML>
<head>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="immobrowse.js"></script>
    <script>
        function getRealEstates() {
            var session = document.getElementById('session').value;

            $.ajax({
                url: 'https://tls.homeinfo.de/his/realestates/data?session=' + session,
                success: function(json) {
                    var immobilie = json.immobilie.sort(immobrowse.sortByRooms(false));
                    var html = '<table>';

                    for (immobilie of immobilie) {
                        html += '<tr><td>' + immobrowse.preview(immobilie) + '</td></tr>';
                    }

                    document.getElementById('container').innerHTML = html + '</table>';
                }
            });
        }
    </script>
</head>
<body>
    Session token: <input id="session"/><br/>
    <button id="query" onclick="getRealEstates()">Run</button>
    <div id="container">Real estates go here.</div>
</body>
