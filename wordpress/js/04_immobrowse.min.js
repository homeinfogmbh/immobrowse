"use strict";var immobrowse=immobrowse||{};immobrowse.logger=new homeinfo.logging.Logger("immobrowse",homeinfo.logging.WARNING),immobrowse.config={},immobrowse.compare=function(e,t,i){if(null==e)return null==t?0:1/0;if(null==t)return-1/0;var n=0;return t>e?n=-1:e>t&&(n=1),i&&(n=-1*n),n},immobrowse.getSorter=function(e,t){var i=!1;switch("descending"==t&&(i=!0),e){case"rooms":return this.sortByRooms(i);case"area":return this.sortByArea(i);case"rent":return this.sortByRent(i);case"street":return this.sortByStreet(i);default:throw"Invalid sorting property: "+e}},immobrowse.sortByRooms=function(e){return function(t,i){return immobrowse.compare(t.rooms(),i.rooms(),e)}},immobrowse.sortByArea=function(e){return function(t,i){return immobrowse.compare(t.area(),i.area(),e)}},immobrowse.sortByRent=function(e){return function(t,i){return immobrowse.compare(t.rent(),i.rent(),e)}},immobrowse.sortByStreet=function(e){return function(t,i){return immobrowse.compare(t.street(),i.street(),e)}},immobrowse.germanDecimal=function(e,t){return null!=e?(null==t&&(t=2),e.toFixed(t).replace(".",",")):null},immobrowse.euro=function(e){return null!=e?immobrowse.germanDecimal(e)+" &euro;":null},immobrowse.squareMeters=function(e){return null!=e?immobrowse.germanDecimal(e)+" m&sup2;":null},immobrowse.yesNo=function(e){return null==e?null:1==e?"Ja":"Nein"},immobrowse.cities=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i].geo.ort;null!=n&&(void 0!=t[n]?t[n]+=1:t[n]=1)}return t},immobrowse.districts=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i].district();null!=n&&(void 0!=t[n]?t[n]+=1:t[n]=1)}return t},immobrowse.districtElements=function(e){var t=immobrowse.districts(e),i=[];for(var n in t)if(t.hasOwnProperty(n)){var s=document.createElement("input");s.setAttribute("type","checkbox"),s.setAttribute("class","ib-select-district"),s.setAttribute("name",n),i.push(s);var r=document.createTextNode(" "+n+" ("+t[n]+")");i.push(r);var a=document.createElement("br");i.push(a)}return i},immobrowse.open=function(e){window.open(e,"_self")},immobrowse.mkContactMail=function(e,t,i,n,s,r,a,o,u,l,h){var m="<!DOCTYPE HTML>\n";m+="<h1>Anfrage zu Objekt</h1>",m+="<h2>"+e+"</h2>",m+="<h3>"+t+"</h4>",m+=[i,'<span style="font-variant:small-caps;">'+n,s+"</span>"].join(" ");var c="";return a&&(c+=a,o&&(c+=" "+o),c+="<br>\n"),u&&(c+=u),l&&(u&&(c+=" "),c+=l),(u||l)&&(c+="<br>\n"),r&&(c+="Tel.: "+r+"\n<br>\n"),m+=""==c?" ":"\n<br>\n"+c+"\n<br>\n",m+="hat folgende Anfrage an Sie:\n<br>\n<br>\n",m+='<div style="font-style:italic;">'+h.replace("\n","\n<br>\n")+"</div>"},immobrowse.Mailer=function(e,t,i,n){this.baseUrl="https://hisecon.homeinfo.de",this.config=e,this.html=null==t?!0:t,this.successMsg=null==i?{title:"Anfrage versendet!",type:"success"}:i,this.errorMsg=null==n?{title:"Fehler beim Versenden!",text:"Bitte versuchen Sie es später noch ein Mal.",type:"error"}:n,this._getUrl=function(e,t,i,n){var s=this.baseUrl+"?config="+this.config;return e?s+="&response="+e:immobrowse.logger.warning("No reCAPTCHA response provided."),t?s+="&subject="+t:immobrowse.logger.warning("No subject provided."),i?s+="&recipient="+i:immobrowse.logger.warning("No recipient specified."),n&&(s+="&reply_to="+n),this.html&&(s+="&html=true"),s},this._getAjax=function(e,t){var i=this.successMsg,n=this.errorMsg;return{url:e,type:"POST",data:t,cache:!1,success:function(){swal(i)},error:function(){swal(n)}}},this.send=function(e,t,i,n,s){return jQuery.ajax(this._getAjax(this._getUrl(e,t,n,s),i))}},immobrowse.Filter=function(e){this.rules=e||{},this.match=function(e){var t=e.rent();if(this.rules.priceMin>t)return!1;if(this.rules.priceMax<t)return!1;if(null!=this.rules.areaMin){if(null==e.flaechen)return!1;if(this.rules.areaMin>e.flaechen.wohnflaeche)return!1}if(null!=this.rules.roomsMin){if(null==e.flaechen)return!1;if(this.rules.roomsMin>e.flaechen.anzahl_zimmer)return!1}if(this.rules.ebk){if(null==e.ausstattung)return!1;if(null==e.ausstattung.kueche)return!1;if(!e.ausstattung.kueche.EBK)return!1}if(this.rules.bathtub){if(null==e.ausstattung)return!1;if(null==e.ausstattung.bad)return!1;if(!e.ausstattung.bad.WANNE)return!1}if(this.rules.window){if(null==e.ausstattung)return!1;if(null==e.ausstattung.bad)return!1;if(!e.ausstattung.bad.FENSTER)return!1}if(this.rules.guestwc){if(null==e.ausstattung)return!1;if(!e.ausstattung.gaestewc)return!1}if(this.rules.carSpace){if(null==e.ausstattung)return!1;if(null==e.ausstattung.stellplatzart)return!1;if(!e.ausstattung.stellplatzart.TIEFGARAGE)return!1}if(this.rules.elevator){if(null==e.ausstattung)return!1;if(null==e.ausstattung.fahrstuhl)return!1;if(!e.ausstattung.fahrstuhl.PERSONEN)return!1}if(this.rules.garden){if(null==e.ausstattung)return!1;if(!e.ausstattung.gartennutzung)return!1}if(this.rules.balcony){if(null==e.flaechen)return!1;if(null==e.flaechen.anzahl_balkone||0==e.flaechen.anzahl_balkone)return!1}return null!=this.rules.districts&&this.rules.districts.length>0&&this.rules.districts.indexOf(e.district())<0?!1:!0},this.filter=function(e){for(var t=[],i=0;i<e.length;i++)this.match(e[i])&&t.push(e[i]);return t}},immobrowse.RealEstate=function(e){this.kwh=immobrowse.dom.Kwhsma().outerHTML,this.na="k. A.";for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.street=function(){return null!=this.geo&&null!=this.geo.strasse?this.geo.strasse:null},this.houseNumber=function(){return null!=this.geo&&null!=this.geo.hausnummer?this.geo.hausnummer:null},this.zipCode=function(){return null!=this.geo&&null!=this.geo.plz?this.geo.plz:null},this.city=function(){return null!=this.geo&&null!=this.geo.ort?this.geo.ort:null},this.district=function(){return null!=this.geo&&null!=this.geo.regionaler_zusatz?this.geo.regionaler_zusatz:null},this.streetAndHouseNumber=function(){var e=this.street(),t=this.houseNumber(),i=[];return e&&i.push(e),t&&i.push(t),i.length>0?i.join(" "):null},this.zipCodeAndCity=function(){var e=this.zipCode(),t=this.city(),i=this.district(),n=[];return e&&n.push(e),t&&n.push(t),i&&i!=t&&n.push(i),n.length>0?n.join(" "):null},this.address=function(){var e=this.streetAndHouseNumber(),t=this.zipCodeAndCity(),i=[];return e&&i.push(e),t&&i.push(t),i.length>0?i.join(", "):null},this.addressPreview=function(){return null==this.geo?"N/A":null==this.geo.strasse?"N/A":null==this.geo.hausnummer?this.geo.strasse:this.geo.strasse+" "+this.geo.hausnummer},this.cityPreview=function(){return null==this.geo?"N/A":null==this.geo.ort?"N/A":null==this.geo.regionaler_zusatz||this.geo.regionaler_zusatz==this.geo.ort?this.geo.ort:this.geo.ort+" "+this.geo.regionaler_zusatz},this.objectTitle=function(){if(null!=this.freitexte&&null!=this.freitexte.objekttitel)return this.freitexte.objekttitel;var e="",t=this.rooms();return e+=null==t?"Wohnung | ":t+" Zimmer Wohnung | ",this.showAddress()&&(e+=this.addressPreview(),e+=" | "),e+=this.cityPreview()},this.titleImage=function(){if(null==this.anhaenge)return null;if(null==this.anhaenge.anhang)return null;var e,t;for(e=0;e<this.anhaenge.anhang.length;e++)if(t=this.anhaenge.anhang[e],"TITELBILD"==t.gruppe)return t;for(e=0;e<this.anhaenge.anhang.length;e++)if(t=this.anhaenge.anhang[e],"AUSSENANSICHTEN"==t.gruppe)return t;for(e=0;e<this.anhaenge.anhang.length;e++)if(t=this.anhaenge.anhang[e],"BILD"==t.gruppe)return t;for(e=0;e<this.anhaenge.anhang.length;e++)if(t=this.anhaenge.anhang[e],"GRUNDRISS"==t.gruppe)return t;return null},this.rooms=function(){return null!=this.flaechen&&null!=this.flaechen.anzahl_zimmer?immobrowse.germanDecimal(this.flaechen.anzahl_zimmer):null},this.bathrooms=function(){return null!=this.flaechen&&null!=this.flaechen.anzahl_badezimmer?immobrowse.germanDecimal(this.flaechen.anzahl_badezimmer):null},this.bedrooms=function(){return null!=this.flaechen&&null!=this.flaechen.anzahl_schlafzimmer?immobrowse.germanDecimal(this.flaechen.anzahl_schlafzimmer):null},this.types=function(){var e=[];return null!=this.objektkategorie&&null!=this.objektkategorie.objektart&&(null!=this.objektkategorie.objektart.zimmer?e=this.objektkategorie.objektart.zimmer:null!=this.objektkategorie.objektart.wohnung?e=this.objektkategorie.objektart.wohnung:null!=this.objektkategorie.objektart.haus?e=this.objektkategorie.objektart.haus:null!=this.objektkategorie.objektart.grundstueck?e=this.objektkategorie.objektart.grundstueck:null!=this.objektkategorie.objektart.buero_praxen?e=this.objektkategorie.objektart.buero_praxen:null!=this.objektkategorie.objektart.einzelhandel?e=this.objektkategorie.objektart.einzelhandel:null!=this.objektkategorie.objektart.gastgewerbe?e=this.objektkategorie.objektart.gastgewerbe:null!=this.objektkategorie.objektart.hallen_lager_prod?e=this.objektkategorie.objektart.hallen_lager_prod:null!=this.objektkategorie.objektart.land_und_forstwirtschaft?e=this.objektkategorie.objektart.land_und_forstwirtschaft:null!=this.objektkategorie.objektart.parken?e=this.objektkategorie.objektart.parken:null!=this.objektkategorie.objektart.sonstige?e=this.objektkategorie.objektart.sonstige:null!=this.objektkategorie.objektart.freizeitimmobilie_gewerblich?e=this.objektkategorie.objektart.freizeitimmobilie_gewerblich:null!=this.objektkategorie.objektart.zinshaus_renditeobjekt&&(e=this.objektkategorie.objektart.zinshaus_renditeobjekt)),e},this.type=function(){for(var e=this.types(),t=0;t<e.length;t++)if(null!=e[t])return homeinfo.str.capitalizeFirstLetter(e[t].toLowerCase());return null},this.gardenUsage=function(){return null!=this.ausstattung&&null!=this.ausstattung.gartennutzung?this.ausstattung.gartennutzung:null},this.petsAllowed=function(){return null!=this.verwaltung_objekt&&null!=this.verwaltung_objekt.haustiere?this.verwaltung_objekt.haustiere:null},this.area=function(){return null==this.flaechen?null:null==this.flaechen.wohnflaeche?null==this.flaechen.nutzflaeche?null==this.flaechen.gesamtflaeche?null:this.flaechen.gesamtflaeche:this.flaechen.nutzflaeche:this.flaechen.wohnflaeche},this.netColdRent=function(){return null!=this.preise&&null!=this.preise.nettokaltmiete?this.preise.nettokaltmiete:null},this.coldRent=function(){return null!=this.preise&&null!=this.preise.kaltmiete?this.preise.kaltmiete:null},this.warmRent=function(){return null!=this.preise&&null!=this.preise.warmmiete?this.preise.warmmiete:null},this.rent=function(){var e=this.netColdRent(),t=this.coldRent();return null!=e&&""!=e?e:null!=t&&""!=t?t:null},this.totalRent=function(){var e=this.rent();if(null==e)return null;var t=this.operationalCosts()||0,i=this.heatingCosts()||0;return e+t+i},this.cableSatTv=function(){return null==this.ausstattung?null:this.ausstattung.kabel_sat_tv},this.builtInKitchen=function(){return null==this.ausstattung?!1:null==this.ausstattung.kueche?!1:this.ausstattung.kueche.EBK},this.basementRoom=function(){return null==this.ausstattung?null:this.ausstattung.unterkellert},this.balconies=function(){return null==this.flaechen?0:null==this.flaechen.anzahl_balkone?0:this.flaechen.anzahl_balkone},this.terraces=function(){return null==this.flaechen?0:null==this.flaechen.anzahl_terrassen?0:this.flaechen.anzahl_terrassen},this.shower=function(){return null==this.ausstattung?!1:null==this.ausstattung.bad?!1:this.ausstattung.bad.DUSCHE},this.bathTub=function(){return null==this.ausstattung?!1:null==this.ausstattung.bad?!1:this.ausstattung.bad.WANNE},this.bathroomWindow=function(){return null==this.ausstattung?!1:null==this.ausstattung.bad?!1:this.ausstattung.bad.FENSTER},this.lavatoryDryingRoom=function(){return null==this.ausstattung?!1:this.ausstattung.wasch_trockenraum},this.barrierFree=function(){return null==this.ausstattung?!1:this.ausstattung.barrierefrei},this.objectTypes=function(){var e=[],t=this.objektkategorie.objektart;return null!=t.zimmer&&e.push("ZIMMER"),null!=t.wohnung&&(e.push("WOHNUNG"),e.concat(t.wohnung)),e},this.marketingTypes=function(){var e=[],t=this.objektkategorie.vermarktungsart;return t.KAUF&&e.push("KAUF"),t.MIETE_PACHT&&e.push("MIETE_PACHT"),t.ERBPACHT&&e.push("ERBPACHT"),t.LEASING&&e.push("LEASING"),e},this.showAddress=function(){return null==this.verwaltung_objekt?!0:null==this.verwaltung_objekt.objektadresse_freigeben?!0:this.verwaltung_objekt.objektadresse_freigeben},this.translatePrimaerenergietraeger=function(e){switch(e){case"OEL":return"Öl";case"GAS":return"Gas";case"ELEKTRO":return"Elektisch";case"ALTERNATIV":return"Alternativ";case"SOLAR":return"Solar";case"ERDWAERME":return"Erdwärme";case"LUFTWP":return"Wärmepumpe Luft-Wasser";case"FERN":return"Fernwärme";case"BLOCK":return"Blockheizkraftwerk";case"WASSER-ELEKTRO":return"Ergänzendes dezentrales Warmwasser";case"PELLET":return"Pellet";case"KOHLE":return"Kohle";case"HOLZ":return"Holz";case"FLUESSIGGAS":return"Flüssiggas"}return e},this.matchTypes=function(e){if(null==e)return!0;for(var t=this.objectTypes(),i=0;i<t.length;i++)if(e.indexOf(t[i])>=0)return!0;return!1},this.matchMarketing=function(e){if(null==e)return!0;for(var t=this.marketingTypes(),i=0;i<t.length;i++)if(e.indexOf(t[i])>=0)return!0;return!1},this.objectId=function(){return this.verwaltung_techn.objektnr_extern},this.attachmentURL=function(e){return null==e?null:"https://backend.homeinfo.de/immobrowse/attachment/"+e.id},this.defaultDetailsURL=function(e){return null==e?null:e+"?real_estate="+this.id},this.detailsURL=function(){return null!=immobrowse.config.exposeURLCallback?immobrowse.config.exposeURLCallback(this.id):this.defaultDetailsURL(null!=immobrowse.config.detailsURL?immobrowse.config.detailsURL:"expose.html")},this.miscellanea=function(){return null==this.freitexte||homeinfo.str.isEmpty(this.freitexte.sonstige_angaben)?null:this.freitexte.sonstige_angaben},this.description=function(){return null==this.freitexte||homeinfo.str.isEmpty(this.freitexte.objektbeschreibung)?null:this.freitexte.objektbeschreibung},this.exposure=function(){return null==this.freitexte||homeinfo.str.isEmpty(this.freitexte.lage)?null:this.freitexte.lage},this.amenitiesDescription=function(){return null==this.freitexte||homeinfo.str.isEmpty(this.freitexte.ausstatt_beschr)?null:this.freitexte.ausstatt_beschr},this.attachments=function(){var e=[];if(null!=this.anhaenge&&null!=this.anhaenge.anhang)for(var t=0;t<this.anhaenge.anhang.length;t++)e.push(this.anhaenge.anhang[t]);return e},this.images=function(){for(var e=this.attachments(),t=["TITELBILD","BILD","AUSSENANSICHTEN","INNENANSICHTEN","ANBIETERLOGO"],i=[],n=0;n<e.length;n++)t.indexOf(e[n].gruppe)>=0&&i.push(e[n]);return i},this.floorplans=function(){for(var e=this.attachments(),t=[],i=0;i<e.length;i++)"GRUNDRISS"==e[i].gruppe&&t.push(e[i]);return t},this.floorplan=function(){return this.floorplans()[0]},this.amenitiesTags=function(){for(var e=this.amenities(),t=[],i=0;i<e.length;i++)t.push(immobrowse.dom.AmenitiesTag(e[i]));return t},this.listAmenities=function(e){if(e.length>0){for(var t='<ul class="ib-amenities-list">',i=0;i<e.length;i++)t+="<li>"+e[i]+"</li>";return t+"</ul>"}return"–"},this.floor=function(){var e=". ",t="Dachgeschoss",i="Obergeschoss",n="Erdgeschoss",s="Untergeschoss";return immobrowse.config.shortFloorNames&&(t="DG",i="OG",n="EG",s="UG"),null!=this.geo&&null!=this.geo.etage?null!=this.geo.anzahl_etagen&&this.geo.etage==this.geo.anzahl_etagen?t:this.geo.etage<0?-this.geo.etage+e+s:this.geo.etage>0?this.geo.etage+e+i:n:void 0},this.amenities=function(){var e=[];return null!=this.ausstattung&&(this.ausstattung.rollstuhlgerecht&&e.push("Rollstuhlgerecht"),null!=this.ausstattung.stellplatzart&&this.ausstattung.stellplatzart.FREIPLATZ&&e.push("Stellplatz"),null!=this.ausstattung.fahrstuhl&&this.ausstattung.fahrstuhl.PERSONEN&&e.push("Personenaufzug"),this.ausstattung.gaestewc&&e.push("Gäste WC")),null!=this.flaechen&&this.flaechen.einliegerwohnung&&e.push("Einliegerwohnung"),this.lavatoryDryingRoom()&&e.push("Wasch- / Trockenraum"),this.builtInKitchen()&&e.push("Einbauk&uuml;che"),this.shower()&&e.push("Dusche"),this.bathroomWindow()&&e.push("Fenster im Bad"),this.bathTub()&&e.push("Badewanne"),this.cableSatTv()&&e.push("Kabel / Sat. / TV"),this.barrierFree()&&e.push("Barrierefrei"),this.basementRoom()&&e.push("Keller"),this.balconies()>0&&e.push("Balkon"),this.terraces()>0&&e.push("Terrasse"),this.petsAllowed()&&e.push("Tierhaltung"),this.gardenUsage()&&e.push("Gartennutzung"),e},this.serviceCharge=function(){return null!=this.preise&&null!=this.preise.nebenkosten&&""!=this.preise.nebenkosten?this.preise.nebenkosten:null},this.operationalCosts=function(){return null!=this.preise&&null!=this.preise.betriebskostennetto&&""!=this.preise.betriebskostennetto?this.preise.betriebskostennetto:null},this.heatingCosts=function(){return null!=this.preise?this.preise.heizkosten:null},this.heatingCostsInServiceCharge=function(){return null!=this.preise?this.preise.heizkosten_enthalten:null},this.securityDeposit=function(){return null!=this.preise?this.preise.kaution:null},this.provision=function(){return null!=this.preise?this.preise.provisionnetto:null},this.subjectToCommission=function(){return null!=this.preise?this.preise.provisionspflichtig:null},this.livingArea=function(){return null!=this.flaechen?this.flaechen.wohnflaeche:null},this.availableFrom=function(){if(null!=this.verwaltung_objekt){if(null!=this.verwaltung_objekt.abdatum){var e=new Date(this.verwaltung_objekt.abdatum);return homeinfo.date.date(e)}if(null!=this.verwaltung_objekt.verfuegbar_ab)return this.verwaltung_objekt.verfuegbar_ab}return null},this.councilFlat=function(){return null!=this.verwaltung_objekt?this.verwaltung_objekt.wbs_sozialwohnung:void 0},this.constructionYear=function(){return null!=this.zustand_angaben?this.zustand_angaben.baujahr:null},this.state=function(){if(null!=this.zustand_angaben)switch(this.zustand_angaben.zustand){case"ERSTBEZUG":return"Erstbezug";case"TEIL_VOLLRENOVIERUNGSBED":return"Teil-/Vollrenovierungsbedürftig";case"NEUWERTIG":return"Neuwertig";case"TEIL_VOLLRENOVIERT":return"Teil-/Vollrenoviert";case"TEIL_SANIERT":return"Teilsaniert";case"VOLL_SANIERT":return"Vollsaniert";case"SANIERUNGSBEDUERFTIG":return"Sanierungsbedürftig";case"BAUFAELLIG":return"Baufällig";case"NACH_VEREINBARUNG":return"Nach Vereinbarung";case"MODERNISIERT":return"Modernisiert";case"GEPFLEGT":return"Gepflegt";case"ROHBAU":return"Rohbau";case"ENTKERNT":return"Entkernt";case"ABRISSOBJEKT":return"Abrissobjekt";case"PROJEKTIERT":return"Projektiert"}return null},this.lastModernization=function(){return null!=this.zustand_angaben?this.zustand_angaben.letztemodernisierung:null},this.heatingTypes=function(){var e=[];return null!=this.ausstattung&&null!=this.ausstattung.heizungsart&&(this.ausstattung.heizungsart.OFEN&&e.push("Ofen"),this.ausstattung.heizungsart.ETAGE&&e.push("Etagenheizung"),this.ausstattung.heizungsart.ZENTRAL&&e.push("Zentralheizung"),this.ausstattung.heizungsart.FERN&&e.push("Fernwärme"),this.ausstattung.heizungsart.FUSSBODEN&&e.push("Fussbodenheizung")),e},this.heatingType=function(){var e=this.heatingTypes();return 0==e.length?this.na:e.join(", ")},this.energyCertificate=function(){try{var e=this.zustand_angaben.energiepass[0]}catch(t){return null}var i={};if(null==e.epart)i.type="Nicht angegeben";else if("VERBRAUCH"==e.epart){if(i.type="Verbrauchsausweis",null!=e.energieverbrauchkennwert&&""!=e.energieverbrauchkennwert){var n=immobrowse.germanDecimal(Number(homeinfo.str.comma2dot(e.energieverbrauchkennwert)))+this.kwh;i.value=n,i.consumption=n}}else if(i.type="Bedarfsausweis",null!=e.endenergiebedarf&&""!=e.endenergiebedarf){var s=immobrowse.germanDecimal(Number(homeinfo.str.comma2dot(e.endenergiebedarf)))+this.kwh;i.value=s,i.demand=s}if(null!=e.baujahr&&""!=e.baujahr)i.constructionYear=e.baujahr;else{var r=this.constructionYear();r&&(i.constructionYear=r)}return null!=e.primaerenergietraeger&&(i.primaryEnergyCarrier=this.translatePrimaerenergietraeger(e.primaerenergietraeger)),null!=e.wertklasse&&""!=e.wertklasse&&(i.valueClass=e.wertklasse),i},this.contact=function(){if(null==this.kontaktperson)return null;var e={},t=[],i=[];return null!=this.kontaktperson.anrede&&(e.salutation=this.kontaktperson.anrede,t.push(e.salutation)),null!=this.kontaktperson.vorname&&(e.firstName=this.kontaktperson.vorname,t.push(e.firstName)),e.lastName=this.kontaktperson.name,t.push(e.lastName),e.name=t.join(" "),null!=this.kontaktperson.firma&&(e.company=this.kontaktperson.firma),null!=this.kontaktperson.strasse&&(e.street=this.kontaktperson.strasse),null!=this.kontaktperson.hausnummer&&(e.houseNumber=this.kontaktperson.hausnummer),null!=this.kontaktperson.strasse&&null!=this.kontaktperson.hausnummer&&(e.streetAndHouseNumber=this.kontaktperson.strasse+" "+this.kontaktperson.hausnummer,i.push(e.streetAndHouseNumber)),null!=this.kontaktperson.plz&&(e.zipCode=this.kontaktperson.plz),null!=this.kontaktperson.ort&&(e.city=this.kontaktperson.ort),null!=this.kontaktperson.plz&&null!=this.kontaktperson.ort&&(e.zipCodeAndCity=this.kontaktperson.plz+" "+this.kontaktperson.ort,i.push(e.zipCodeAndCity)),i.length>0&&(e.address=i.join(", ")),null!=this.kontaktperson.email_direkt?e.email=this.kontaktperson.email_direkt:null!=this.kontaktperson.email_zentrale&&(e.email=this.kontaktperson.email_zentrale),null!=this.kontaktperson.tel_durchw?e.phone=this.kontaktperson.tel_durchw:null!=this.kontaktperson.tel_zentrale&&(e.phone=this.kontaktperson.tel_zentrale),null!=this.kontaktperson.url&&(e.website=this.kontaktperson.url),e},this.setValue=function(e,t){null!=e&&(null==t?void 0==e.container?e.html(this.na):(e.value.html(this.na),e.container.hide()):void 0==e.value?e.html(t):(e.value.html(t),e.container.show()))},this.renderEnergyCertificate=function(e){if(null!=e){var t=this.energyCertificate();null!=t?(this.setValue(e.constructionYear,t.constructionYear),this.setValue(e.type,t.type),this.setValue(e.demand,t.demand),this.setValue(e.consumption,t.consumption),this.setValue(e.primaryEnergyCarrier,t.primaryEnergyCarrier),this.setValue(e.valueClass,t.valueClass)):(this.setValue(e.constructionYear,null),this.setValue(e.type,null),this.setValue(e.demand,null),this.setValue(e.consumption,null),this.setValue(e.primaryEnergyCarrier,null),this.setValue(e.valueClass,null))}},this.renderContact=function(e){if(null!=e){var t=this.contact();null!=t?(this.setValue(e.salutation,t.salutation),this.setValue(e.firstName,t.firstName),this.setValue(e.lastName,t.lastName),this.setValue(e.name,t.name),this.setValue(e.company,t.company),this.setValue(e.street,t.street),this.setValue(e.houseNumber,t.houseNumber),this.setValue(e.streetAndHouseNumber,t.streetAndHouseNumber),this.setValue(e.zipCode,t.zipCode),this.setValue(e.city,t.city),this.setValue(e.zipCodeAndCity,t.zipCodeAndCity),this.setValue(e.address,t.address),this.setValue(e.phone,t.phone),this.setValue(e.website,t.website)):(this.setValue(e.salutation,null),this.setValue(e.firstName,null),this.setValue(e.lastName,null),this.setValue(e.name,null),this.setValue(e.company,null),this.setValue(e.street,null),this.setValue(e.houseNumber,null),this.setValue(e.streetAndHouseNumber,null),this.setValue(e.zipCode,null),this.setValue(e.city,null),this.setValue(e.zipCodeAndCity,null),this.setValue(e.address,null),this.setValue(e.phone,null),this.setValue(e.website,null),null!=e.container&&e.container.hide(),null!=e.button&&e.button.attr("disabled",!0))}},this.renderImage=function(e,t){null!=e&&null!=t&&(null!=e.image?(e.image.attr("src",this.attachmentURL(t)),e.caption.html(t.anhangtitel)):e.attr("src",this.attachmentURL(t)))},this.render=function(e){this.setValue(e.objectId,this.objectId()),this.setValue(e.objectTitle,this.objectTitle()),this.setValue(e.address,this.address()),this.setValue(e.type,this.type()),this.setValue(e.coldRent,immobrowse.euro(this.rent())),this.setValue(e.warmRent,immobrowse.euro(this.warmRent())),this.setValue(e.totalRent,immobrowse.euro(this.totalRent())),this.setValue(e.serviceCharge,immobrowse.euro(this.serviceCharge())),this.setValue(e.operationalCosts,immobrowse.euro(this.operationalCosts())),this.setValue(e.heatingCosts,immobrowse.euro(this.heatingCosts())),this.setValue(e.heatingCostsInServiceCharge,immobrowse.yesNo(this.heatingCostsInServiceCharge())),this.setValue(e.securityDeposit,immobrowse.euro(this.securityDeposit())),this.setValue(e.provision,immobrowse.euro(this.provision())),this.setValue(e.subjectToCommission,immobrowse.yesNo(this.subjectToCommission())),this.setValue(e.livingArea,immobrowse.squareMeters(this.livingArea())),this.setValue(e.rooms,this.rooms()),this.setValue(e.bathrooms,this.bathrooms()),this.setValue(e.bedrooms,this.bedrooms()),this.setValue(e.floor,this.floor()),this.setValue(e.petsAllowed,immobrowse.yesNo(this.petsAllowed())),this.setValue(e.gardenUsage,immobrowse.yesNo(this.gardenUsage())),this.setValue(e.availableFrom,this.availableFrom()),this.setValue(e.councilFlat,immobrowse.yesNo(this.councilFlat())),this.setValue(e.constructionYear,this.constructionYear()),this.setValue(e.state,this.state()),this.setValue(e.lastModernization,this.lastModernization()),this.setValue(e.heatingType,this.heatingType()),this.renderEnergyCertificate(e.energyCertificate),this.setValue(e.description,this.description()),this.setValue(e.exposure,this.exposure()),this.setValue(e.amenities,this.amenitiesDescription()),this.setValue(e.miscellanea,this.miscellanea()),this.renderContact(e.contact),this.setValue(e.amenitiesTags,this.amenitiesTags()),this.setValue(e.amenitiesList,this.listAmenities(this.amenities())),this.renderImage(e.titleImage,this.titleImage()),this.renderImage(e.floorplan,this.floorplan())},this.preview=function(e){return immobrowse.dom.preview.Entry(immobrowse.dom.preview.MainRow(immobrowse.dom.preview.ImageCol(immobrowse.dom.preview.ImageFrame(immobrowse.dom.preview.TitleImage(this.attachmentURL(this.titleImage())))),immobrowse.dom.preview.DataCol(immobrowse.dom.preview.TitleRow(immobrowse.dom.preview.ObjectTitle(this.objectTitle()||this.na)),immobrowse.dom.preview.DataRow(this._dataFields(e)),immobrowse.dom.preview.AmenitiesTags(this.amenitiesTags()))),this.detailsURL())},this._defaultDataFields=function(){return[immobrowse.dom.preview.DataFieldCol(immobrowse.dom.preview.DataFieldRow(immobrowse.dom.preview.DataFieldCaption("Kaltmiete")),immobrowse.dom.preview.DataFieldRow(immobrowse.dom.preview.DataFieldValue(immobrowse.euro(this.rent())||this.na))),immobrowse.dom.preview.DataFieldCol(immobrowse.dom.preview.DataFieldRow(immobrowse.dom.preview.DataFieldCaption("Nebenkosten")),immobrowse.dom.preview.DataFieldRow(immobrowse.dom.preview.DataFieldValue(immobrowse.euro(this.serviceCharge())||this.na))),immobrowse.dom.preview.DataFieldCol(immobrowse.dom.preview.DataFieldRow(immobrowse.dom.preview.DataFieldCaption("Zimmer")),immobrowse.dom.preview.DataFieldRow(immobrowse.dom.preview.DataFieldValue(this.rooms()||this.na))),immobrowse.dom.preview.DataFieldCol(immobrowse.dom.preview.DataFieldRow(immobrowse.dom.preview.DataFieldCaption("Fläche ca.")),immobrowse.dom.preview.DataFieldRow(immobrowse.dom.preview.DataFieldValue(immobrowse.squareMeters(this.area())||this.na)))]},this._dataFields=function(e){if(null==e)return this._defaultDataFields();var t=[];return e.hasOwnProperty("coldRent")&&immobrowse.dom.preview.addDataFieldCol(e.coldRent,immobrowse.euro(this.coldRent()),t),e.hasOwnProperty("serviceCharge")&&immobrowse.dom.preview.addDataFieldCol(e.serviceCharge,immobrowse.euro(this.serviceCharge()),t),e.hasOwnProperty("rooms")&&immobrowse.dom.preview.addDataFieldCol(e.rooms,immobrowse.euro(this.rooms()),t),e.hasOwnProperty("area")&&immobrowse.dom.preview.addDataFieldCol(e.area,immobrowse.euro(this.area()),t),t}},immobrowse.RealEstate.get=function(e){function t(e){return new immobrowse.RealEstate(e)}function i(){swal({title:"Immobilie konnte nicht geladen werden.",text:"Bitte versuchen Sie es später noch ein Mal.",type:"error"})}var n=jQuery.ajax({url:"https://backend.homeinfo.de/immobrowse/expose/"+e});return n.then(t,i)},immobrowse.RealEstate.list=function(e){function t(e){for(var t=[],i=0;i<e.length;i++)t.push(new immobrowse.RealEstate(e[i]));return t}function i(){swal({title:"Immobilien konnten nicht geladen werden.",text:"Bitte versuchen Sie es später noch ein Mal.",type:"error"})}var n=jQuery.ajax({url:"https://backend.homeinfo.de/immobrowse/list/"+e});return n.then(t,i)},immobrowse.List=function(e){this.realEstates=e,this.sort=function(e,t){immobrowse.logger.debug("Sorting by "+e+" "+t+"."),this.realEstates.sort(immobrowse.getSorter(e,t))},this.render=function(e){e.html("");for(var t=0;t<this.realEstates.length;t++)e.append(this.realEstates[t].preview())}},immobrowse.dom=immobrowse.dom||{},immobrowse.dom.OvalInner=function(e){var t=document.createElement("div");return t.setAttribute("class","oval-inner"),t.innerHTML=e,t},immobrowse.dom.OvalOuter=function(e){var t=document.createElement("div");return t.setAttribute("class","oval-outer"),t.appendChild(e),t},immobrowse.dom.AmenitiesTag=function(e){return immobrowse.dom.OvalOuter(immobrowse.dom.OvalInner(e))},immobrowse.dom.Numerator=function(e){var t=document.createElement("span");return t.setAttribute("class","numerator"),t.innerHTML=e,t},immobrowse.dom.Denominator=function(e){var t=document.createElement("span");return t.setAttribute("class","denominator"),t.innerHTML=e,t},immobrowse.dom.Fraction=function(e,t){var i=document.createElement("span");return i.setAttribute("class","fraction"),i.appendChild(e),i.appendChild(t),i},immobrowse.dom.Kwhsma=function(){return immobrowse.dom.Fraction(immobrowse.dom.Numerator("kWh"),immobrowse.dom.Denominator("m<sup>2</sup>&middot;a"))},immobrowse.dom.preview=immobrowse.dom.preview||{},immobrowse.dom.preview.addDataFieldCol=function(e,t,i){var n=e.caption,s=e.hide||!1;null==t&&s||i.push(immobrowse.dom.preview.DataFieldCol(immobrowse.dom.preview.DataFieldRow(immobrowse.dom.preview.DataFieldCaption(n)),immobrowse.dom.preview.DataFieldRow(immobrowse.dom.preview.DataFieldValue(t))))},immobrowse.dom.preview.DataFieldCaption=function(e){var t=document.createElement("div");return t.setAttribute("class","ib-preview-data-caption"),t.innerHTML=e,t},immobrowse.dom.preview.DataFieldValue=function(e){var t=document.createElement("div");return t.setAttribute("class","ib-preview-data-value"),t.innerHTML=e,t},immobrowse.dom.preview.DataFieldRow=function(e){var t=document.createElement("div");return t.setAttribute("class","row"),t.appendChild(e),t},immobrowse.dom.preview.DataFieldCol=function(e,t){var i=document.createElement("div");return i.setAttribute("class","col-md-3"),i.appendChild(e),i.appendChild(t),i},immobrowse.dom.preview.DataRow=function(e){var t=document.createElement("div");t.setAttribute("class","row row-centered ib-preview-data");for(var i=0;i<e.length;i++)t.appendChild(e[i]);return t},immobrowse.dom.preview.ObjectTitle=function(e){var t=document.createElement("div");return t.setAttribute("class","ib-preview-title"),t.innerHTML=e,t},immobrowse.dom.preview.TitleRow=function(e){var t=document.createElement("div");return t.setAttribute("class","row row-centered"),t.appendChild(e),t},immobrowse.dom.preview.DataCol=function(e,t,i){var n=document.createElement("div");return n.setAttribute("class","col-sm-8"),n.appendChild(e),n.appendChild(t),n.appendChild(i),n},immobrowse.dom.preview.TitleImage=function(e){var t=document.createElement("img");return null==e&&(e="img/dummy.jpg"),t.setAttribute("src",e),t.setAttribute("class","ib-framed-image"),t.setAttribute("alt","Titelbild"),t},immobrowse.dom.preview.ImageFrame=function(e){var t=document.createElement("div");return t.setAttribute("class","ib-image-frame"),t.appendChild(e),t},immobrowse.dom.preview.ImageCol=function(e){var t=document.createElement("div");return t.setAttribute("class","col-sm-4"),t.appendChild(e),t},immobrowse.dom.preview.MainRow=function(e,t){var i=document.createElement("div");return i.setAttribute("class","row row-centered ib-preview-container"),i.appendChild(e),i.appendChild(t),i},immobrowse.dom.preview.AmenitiesTags=function(e){var t=document.createElement("div");t.setAttribute("class","ib-preview-tags");for(var i=0;i<e.length;i++)t.appendChild(e[i]);return t},immobrowse.dom.preview.Entry=function(e,t){var i=document.createElement("div");
return i.setAttribute("class","ib-preview-item"),i.setAttribute("onclick",'immobrowse.open("'+t+'");'),i.appendChild(e),i};
